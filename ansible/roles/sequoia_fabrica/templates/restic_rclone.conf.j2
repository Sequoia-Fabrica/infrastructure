# Rclone configuration for Restic backup to Google Drive
# Generated by Ansible from template
# See: https://rclone.org/drive/

[{{ restic_config.rclone_remote_name }}]
type = drive
scope = drive
{% if vault_gdrive_backup.rclone_client_id is defined and vault_gdrive_backup.rclone_client_id %}
client_id = {{ vault_gdrive_backup.rclone_client_id | trim }}
{% endif %}
{% if vault_gdrive_backup.rclone_client_secret is defined and vault_gdrive_backup.rclone_client_secret %}
client_secret = {{ vault_gdrive_backup.rclone_client_secret | trim }}
{% endif %}
token = {{ vault_gdrive_backup.rclone_token | string }}
{% if vault_gdrive_backup.rclone_team_drive is defined and vault_gdrive_backup.rclone_team_drive %}
team_drive = {{ vault_gdrive_backup.rclone_team_drive | trim }}
{% endif %}
{% if vault_gdrive_backup.rclone_root_folder_id is defined and vault_gdrive_backup.rclone_root_folder_id %}
root_folder_id = {{ vault_gdrive_backup.rclone_root_folder_id | trim }}
{% endif %}
